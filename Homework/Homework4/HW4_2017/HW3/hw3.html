<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
	<head>
		<meta charset="utf-8" />
		<title>homework:hw3 [ISU HCI 575]</title>
		<meta name="robots" content="noindex,nofollow"/>
		<meta name="keywords" content="homework,hw3"/>
	</head>
	<body>
		<h1 class="sectionedit1" id="main title">HCI 575: Homework 3 - Recognizing Touch Tones</h1>
		<h2 class="sectionedit1" id="list_of_audio_libraries_and_references">List of Audio Libraries and References</h2>
		<div class="level2">
			<p>
				The following list of C libraries and references for audio processing is provided for your convenience only. You are not required to use any of these libraries/references to solve this homework:
			</p>
			<ul>
				<li class="level1">
					<div class="li"> <a href="https://en.wikipedia.org/wiki/Dual-tone_multi-frequency_signaling" class="urlextern" title="https://en.wikipedia.org/wiki/Dual-tone_multi-frequency_signaling"  rel="nofollow">Touch Tone Dialing (READ THIS FIRST!)</a> .</div>
				</li>
				<li class="level1">
					<div class="li"> The <a href="http://fftw.org/" class="urlextern" title="http://fftw.org/"  rel="nofollow">fastest Fourier Transform in the West</a> library.</div>
				</li>
				<li class="level1">
					<div class="li"> <a href="http://aubio.org/" class="urlextern" title="http://aubio.org/"  rel="nofollow">Aubio</a>.</div>
				</li>
				<li class="level1">
					<div class="li"> <a href="http://www.mega-nerd.com/libsndfile/" class="urlextern" title="http://www.mega-nerd.com/libsndfile/"  rel="nofollow">libsndfile</a>.</div>
				</li>
				<li class="level1">
					<div class="li"> Example code for computing the spectrogram in C: <a href="alsgram.zip" class="media mediafile mf_zip" title="alsgram.zip (4.2 KB)">alsgram.zip</a>.</div>
				</li>
				<li class="level1">
					<div class="li"> <a href="http://www.youtube.com/view_play_list?p=B24BC7956EE040CD" class="urlextern" title="http://www.youtube.com/view_play_list?p=B24BC7956EE040CD"  rel="nofollow"> The Fourier Transform and its Applications : Video Course</a>.</div>
				</li>
			</ul>
			<p>
				<strong>You can use either MATLAB or C/C++ for this assignment.</strong>
			</p>
		</div>
		
		<!-- PART 1 -->
		<h1 class="sectionedit2" id="recognize_digit_from_audio">1. Recognize Single Phone Digits from Audio</h1>
		<div class="level1">
			<p>
				Your task is to write a program that can detect a single digit from audio of a touch-tone phone keypad (0-9, *, #) and print the digit.
			</p>
		</div>
		<h5 id="perfect-pitch">Students with perfect pitch are not exempt from solving this problem. The digit  must be detected by the program and not by the programmer.</h5>
		<div class="level2">
			<div class="table sectionedit4">
				<table class="inline">
					<thead>
						<tr class="row0">
							<th class="col0"> Audio Data </th>
							<th class="col1"> Program Output </th>
						</tr>
					</thead>
					<tr class="row1">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P1/single-digit-1.wav" type="audio/wav" />
								<a href="input/P1/single-digit-1.wav" class="media mediafile mf_wav" title="single-digit-1">single-digit-1</a>
							</audio>
						</td>
						<td class="col1">8</td>
					</tr>
					<tr class="row2">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P1/single-digit-2.wav" type="audio/wav" />
								<a href="input/P1/single-digit-2.wav" class="media mediafile mf_wav" title="single-digit-2">single-digit-2</a>
							</audio>
						</td>
						<td class="col1">2</td>
					</tr>
					<tr class="row3">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P1/single-digit-3.wav" type="audio/wav" />
								<a href="input/P1/single-digit-3.wav" class="media mediafile mf_wav" title="single-digit-3">single-digit-3</a>
							</audio>
						</td>
						<td class="col1">3</td>
					</tr>
					<tr class="row4">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P1/single-digit-4.wav" type="audio/wav" />
								<a href="input/P1/single-digit-4.wav" class="media mediafile mf_wav" title="single-digit-4">single-digit-4</a>
							</audio>
						</td>
						<td class="col1">#</td>
					</tr>
					<tr class="row5">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P1/single-digit-5.wav" type="audio/wav" />
								<a href="input/P1/single-digit-5.wav" class="media mediafile mf_wav" title="single-digit-5">single-digit-5</a>
							</audio>
						</td>
						<td class="col1">0</td>
					</tr>
					<tr class="row6">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P1/single-digit-6.wav" type="audio/wav" />
								<a href="input/P1/single-digit-6.wav" class="media mediafile mf_wav" title="single-digit-6">single-digit-6</a>
							</audio>
						</td>
						<td class="col1">*</td>
					</tr>
					<tr class="row7">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P1/single-digit-7.wav" type="audio/wav" />
								<a href="input/P1/single-digit-7.wav" class="media mediafile mf_wav" title="single-digit-7">single-digit-7</a>
							</audio>
						</td>
						<td class="col1">1</td>
					</tr>
					<tr class="row8">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P1/single-digit-8.wav" type="audio/wav" />
								<a href="input/P1/single-digit-8.wav" class="media mediafile mf_wav" title="single-digit-8">single-digit-8</a>
							</audio>
						</td>
						<td class="col1">5</td>
					</tr>
					<tr class="row9">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P1/single-digit-9.wav" type="audio/wav" />
								<a href="input/P1/single-digit-9.wav" class="media mediafile mf_wav" title="single-digit-9">single-digit-9</a>
							</audio>
						</td>
						<td class="col1">9</td>
					</tr>
					<tr class="row10">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P1/single-digit-10.wav" type="audio/wav" />
								<a href="input/P1/single-digit-10.wav" class="media mediafile mf_wav" title="single-digit-10">single-digit-10</a>
							</audio>
						</td>
						<td class="col1">7</td>
					</tr>
					<tr class="row11">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P1/single-digit-11.wav" type="audio/wav" />
								<a href="input/P1/single-digit-11.wav" class="media mediafile mf_wav" title="single-digit-11">single-digit-11</a>
							</audio>
						</td>
						<td class="col1">6</td>
					</tr>
					<tr class="row12">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P1/single-digit-12.wav" type="audio/wav" />
								<a href="input/P1/single-digit-12.wav" class="media mediafile mf_wav" title="single-digit-12">single-digit-12</a>
							</audio>
						</td>
						<td class="col1">4</td>
					</tr>
				</table>
			</div>
			<pre class="code">detectDigit('single-digit-1.wav');
detectDigit('single-digit-2.wav');
detectDigit('single-digit-3.wav');
detectDigit('single-digit-4.wav');
detectDigit('single-digit-5.wav');
detectDigit('single-digit-6.wav');
detectDigit('single-digit-7.wav');
detectDigit('single-digit-8.wav');
detectDigit('single-digit-9.wav');
detectDigit('single-digit-10.wav');
detectDigit('single-digit-11.wav');
detectDigit('single-digit-12.wav');

% Function that detects the dial digit using a spectrogram
function detectDigit(audioFileName)
	% Read in the game audio file
	[Y,fs]=audioread(audioFileName);

	% Obtain the necessary spectrogram variables for processing
	[s,f,t,p] = spectrogram(Y, 1024, 256, 1024, fs, 'yaxis'); 

	% Filter the spectral response to isolate the possible digit frequencies
	minFreq = 640;
	maxFreq = 1536;
	f1 = (f >= minFreq & f <= maxFreq);
	t1 = t > 0.0;
	p = p(f1,t1);
	p(10*log10(abs(p)) < -27) = 0;

	% Find the indices of non-zero filtered power that correspond to certain
	% frequencies
	k = find(p(:,1));

	% Determine the upper and lower number digit value for classification
	lowerFreq = minFreq + 32*(k(1)-1);
	upperFreq = minFreq + 32*(k(2)-1);
	digitLocations = [1 2 3; 4 5 6; 7 8 9; 0 0 0];

	% Find lower frequency bin
	if lowerFreq >= 672 && lowerFreq <= 704
		lowerFreq = 1;
	elseif lowerFreq >= 768 && lowerFreq <= 800
		lowerFreq = 2;
	elseif lowerFreq >= 832 && lowerFreq <= 864
		lowerFreq = 3;
	else
		lowerFreq = 4;
	end

	% Find upper frequency bin
	if upperFreq >= 1184 && upperFreq <= 1216
		upperFreq = 1;
	elseif upperFreq >= 1312 && upperFreq <= 1344
		upperFreq = 2;
	else
		upperFreq = 3;
	end
	
	% Print results
	if lowerFreq == 4 && upperFreq ~= 2
		result = sprintf("%s detectedDigit = ", audioFileName);
		if upperFreq == 1
			result = result + "*";
		else
			result = result + "#";
		end
	else
		result = sprintf("%s detectedDigit = %d", audioFileName, digitLocations(lowerFreq, upperFreq));
	end
	
	disp(result);
end
			</pre>
		</div>
		
		<!-- PART 2 -->
		<h1 class="sectionedit7" id="recognize_area_codes">2. Recognize Area Codes from Audio</h1>
		<div class="level1">
			<p>
				In this problem you have to write a program that can recognize area codes from audio and print the area code.
			</p>
			<h5 id="perfect-pitch">Students with perfect pitch are not exempt from solving this problem. The area code must be detected by the program and not by the programmer.</h5>
		</div>
		<div class="level2">
			<div class="table sectionedit4">
				<table class="inline">
					<thead>
						<tr class="row0">
							<th class="col0"> Audio Data </th>
							<th class="col1"> Program Output </th>
						</tr>
					</thead>
					<tr class="row1">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P2/area-code-1.wav" type="audio/wav" />
								<a href="input/P2/area-code-1.wav" class="media mediafile mf_wav" title="area-code-1">area-code-1</a>
							</audio>
						</td>
						<td class="col1">345</td>
					</tr>
					<tr class="row2">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P2/area-code-2.wav" type="audio/wav" />
								<a href="input/P2/area-code-2.wav" class="media mediafile mf_wav" title="area-code-2">area-code-2</a>
							</audio>
						</td>
						<td class="col1"> Output of your program. </td>
					</tr>
					<tr class="row3">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P2/area-code-3.wav" type="audio/wav" />
								<a href="input/P2/area-code-3.wav" class="media mediafile mf_wav" title="area-code-3">area-code-3</a>
							</audio>
						</td>
						<td class="col1"> Output of your program. </td>
					</tr>
					<tr class="row4">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P2/area-code-4.wav" type="audio/wav" />
								<a href="input/P2/area-code-4.wav" class="media mediafile mf_wav" title="area-code-4">area-code-4</a>
							</audio>
						</td>
						<td class="col1"> Output of your program. </td>
					</tr>
					<tr class="row5">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P2/area-code-5.wav" type="audio/wav" />
								<a href="input/P2/area-code-5.wav" class="media mediafile mf_wav" title="area-code-5">area-code-5</a>
							</audio>
						</td>
						<td class="col1"> Output of your program. </td>
					</tr>
					<tr class="row6">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P2/area-code-6.wav" type="audio/wav" />
								<a href="input/P2/area-code-6.wav" class="media mediafile mf_wav" title="area-code-6">area-code-6</a>
							</audio>
						</td>
						<td class="col1"> Output of your program. </td>
					</tr>
					<tr class="row7">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P2/area-code-7.wav" type="audio/wav" />
								<a href="input/P2/area-code-7.wav" class="media mediafile mf_wav" title="area-code-7">area-code-7</a>
							</audio>
						</td>
						<td class="col1"> Output of your program. </td>
					</tr>
					<tr class="row8">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P2/area-code-8.wav" type="audio/wav" />
								<a href="input/P2/area-code-8.wav" class="media mediafile mf_wav" title="area-code-8">area-code-8</a>
							</audio>
						</td>
						<td class="col1"> Output of your program. </td>
					</tr>
					<tr class="row9">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P2/area-code-9.wav" type="audio/wav" />
								<a href="input/P2/area-code-9.wav" class="media mediafile mf_wav" title="area-code-9">area-code-9</a>
							</audio>
						</td>
						<td class="col1"> Output of your program. </td>
					</tr>
					<tr class="row10">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P2/area-code-10.wav" type="audio/wav" />
								<a href="input/P2/area-code-10.wav" class="media mediafile mf_wav" title="area-code-10">area-code-10</a>
							</audio>
						</td>
						<td class="col1"> Output of your program. </td>
					</tr>
				</table>
			</div>
			<pre class="code">Put your code here</pre>
		</div>
		
		<!-- PART 3a -->
		<h1 class="sectionedit12" id="recognize_phone_numbers">3. Recognize Computer Generated Phone Numbers from Audio</h1>
		<div class="level1">
			<p>
				In this problem your goal is to write a program to recognize full 10-digit phone numbers and print the phone number.
			</p>
		</div>
		<h5 id="perfect-pitch">Students with perfect pitch are not exempt from solving this problem. The phone number must be detected by the program and not by the programmer.</h5>
		<h2 class="sectionedit13" id="part_a_single_piano_chords">Part A. Phone Numbers with Fixed Duration/Pause</h2>
		<div class="level2">
		<div class="table sectionedit14">
			<table class="inline">
				<thead>
					<tr class="row0">
						<th class="col0"> Audio Data </th>
						<th class="col1"> Program Output </th>
					</tr>
				</thead>
				<tr class="row1">
					<td class="col0">
						<audio class="media" controls="controls">
							<source src="input/P3a/phone-number-1.wav" type="audio/wav" />
							<a href="input/P3a/phone-number-1.wav" class="media mediafile mf_wav" title="phone-number-1">phone-number-1</a>
						</audio>
					</td>
					<td class="col1">204-009-9212</td>
				</tr>
				<tr class="row2">
					<td class="col0">
						<audio class="media" controls="controls">
							<source src="input/P3a/phone-number-2.wav" type="audio/wav" />
							<a href="input/P3a/phone-number-2.wav" class="media mediafile mf_wav" title="phone-number-2">phone-number-2</a>
						</audio>
					</td>
					<td class="col1"> Output of your program. </td>
				</tr>
				<tr class="row3">
					<td class="col0">
						<audio class="media" controls="controls">
							<source src="input/P3a/phone-number-3.wav" type="audio/wav" />
							<a href="input/P3a/phone-number-3.wav" class="media mediafile mf_wav" title="phone-number-3">phone-number-3</a>
						</audio>
					</td>
					<td class="col1"> Output of your program. </td>
				</tr>
				<tr class="row4">
					<td class="col0">
						<audio class="media" controls="controls">
							<source src="input/P3a/phone-number-4.wav" type="audio/wav" />
							<a href="input/P3a/phone-number-4.wav" class="media mediafile mf_wav" title="phone-number-4">phone-number-4</a>
						</audio>
					</td>
					<td class="col1"> Output of your program. </td>
				</tr>
				<tr class="row5">
					<td class="col0">
						<audio class="media" controls="controls">
							<source src="input/P3a/phone-number-5.wav" type="audio/wav" />
							<a href="input/P3a/phone-number-5.wav" class="media mediafile mf_wav" title="phone-number-5">phone-number-5</a>
						</audio>
					</td>
					<td class="col1"> Output of your program. </td>
				</tr>
				<tr class="row6">
					<td class="col0">
						<audio class="media" controls="controls">
							<source src="input/P3a/phone-number-6.wav" type="audio/wav" />
							<a href="input/P3a/phone-number-6.wav" class="media mediafile mf_wav" title="phone-number-6">phone-number-6</a>
						</audio>
					</td>
					<td class="col1"> Output of your program. </td>
				</tr>
				<tr class="row7">
					<td class="col0">
						<audio class="media" controls="controls">
							<source src="input/P3a/phone-number-7.wav" type="audio/wav" />
							<a href="input/P3a/phone-number-7.wav" class="media mediafile mf_wav" title="phone-number-7">phone-number-7</a>
						</audio>
					</td>
					<td class="col1"> Output of your program. </td>
				</tr>
				<tr class="row8">
					<td class="col0">
						<audio class="media" controls="controls">
							<source src="input/P3a/phone-number-8.wav" type="audio/wav" />
							<a href="input/P3a/phone-number-8.wav" class="media mediafile mf_wav" title="phone-number-8">phone-number-8</a>
						</audio>
					</td>
					<td class="col1"> Output of your program. </td>
				</tr>
				<tr class="row9">
					<td class="col0">
						<audio class="media" controls="controls">
							<source src="input/P3a/phone-number-9.wav" type="audio/wav" />
							<a href="input/P3a/phone-number-9.wav" class="media mediafile mf_wav" title="phone-number-9">phone-number-9</a>
						</audio>
					</td>
					<td class="col1"> Output of your program. </td>
				</tr>
				<tr class="row10">
					<td class="col0">
						<audio class="media" controls="controls">
							<source src="input/P3a/phone-number-10.wav" type="audio/wav" />
							<a href="input/P3a/phone-number-10.wav" class="media mediafile mf_wav" title="phone-number-10">phone-number-10</a>
						</audio>
					</td>
					<td class="col1"> Output of your program. </td>
				</tr>
			</table>
		</div>
		<pre class="code">Put your code here</pre>
		
		<!-- PART 3b -->
		<h2 class="sectionedit15" id="part_b_short_piano_melodies_with_chords">Part B. Phone Numbers with Random Duration/Pause</h2>
		<div class="level2">
			<div class="table sectionedit16">
				<table class="inline">
					<thead>
						<tr class="row0">
							<th class="col0"> Audio Data </th>
							<th class="col1"> Program Output </th>
						</tr>
					</thead>
					<tr class="row1">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P3b/phone-number-1.wav" type="audio/wav" />
								<a href="input/P3b/phone-number-1.wav" class="media mediafile mf_wav" title="phone-number-1">phone-number-1</a>
							</audio>
						</td>
						<td class="col1"> Output of your program.</td>
					</tr>
					<tr class="row2">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P3b/phone-number-2.wav" type="audio/wav" />
								<a href="input/P3b/phone-number-2.wav" class="media mediafile mf_wav" title="phone-number-2">phone-number-2</a>
							</audio>
						</td>
						<td class="col1"> Output of your program. </td>
					</tr>
					<tr class="row3">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P3b/phone-number-3.wav" type="audio/wav" />
								<a href="input/P3b/phone-number-3.wav" class="media mediafile mf_wav" title="phone-number-3">phone-number-3</a>
							</audio>
						</td>
						<td class="col1"> Output of your program. </td>
					</tr>
					<tr class="row4">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P3b/phone-number-4.wav" type="audio/wav" />
								<a href="input/P3b/phone-number-4.wav" class="media mediafile mf_wav" title="phone-number-4">phone-number-4</a>
							</audio>
						</td>
						<td class="col1"> Output of your program. </td>
					</tr>
					<tr class="row5">
						<td class="col0">
							<audio class="media" controls="controls">
								<source src="input/P3b/phone-number-5.wav" type="audio/wav" />
								<a href="input/P3b/phone-number-5.wav" class="media mediafile mf_wav" title="phone-number-5">phone-number-5</a>
							</audio>
						</td>
						<td class="col1"> Output of your program. </td>
					</tr>
				</table>
			</div>
			<pre class="code">Put your code here</pre>
		</div>
		
		<!-- PART 4 -->
		<h1 class="sectionedit16" id="recognize_chords">4. Recognize Phone Numbers from Noisy Audio</h1>
		<div class="level1">
			<p>
				In this problem your goal is to write a program to recognize full 10-digit phone numbers.
			</p>
		</div>
		<h5 id="perfect-pitch">Students with perfect pitch are not exempt from solving this problem. The phone number must be detected by the program and not by the programmer.</h5>
		<div class="level2">
		<div class="table sectionedit17">
			<table class="inline">
				<thead>
					<tr class="row0">
						<th class="col0"> Audio Data </th>
						<th class="col1"> Program Output </th>
					</tr>
				</thead>
				<tr class="row1">
					<td class="col0">
						<audio class="media" controls="controls">
							<source src="input/P4/phone-number-1.wav" type="audio/wav" />
							<a href="input/P4/phone-number-1.wav" class="media mediafile mf_wav" title="phone-number-1">phone-number-1</a>
						</audio>
					</td>
					<td class="col1"> Output of your program.</td>
				</tr>
				<tr class="row2">
					<td class="col0">
						<audio class="media" controls="controls">
							<source src="input/P4/phone-number-2.wav" type="audio/wav" />
							<a href="input/P4/phone-number-2.wav" class="media mediafile mf_wav" title="phone-number-2">phone-number-2</a>
						</audio>
					</td>
					<td class="col1"> Output of your program. </td>
				</tr>
				<tr class="row3">
					<td class="col0">
						<audio class="media" controls="controls">
							<source src="input/P4/phone-number-3.wav" type="audio/wav" />
							<a href="input/P4/phone-number-3.wav" class="media mediafile mf_wav" title="phone-number-3">phone-number-3</a>
						</audio>
					</td>
					<td class="col1"> Output of your program. </td>
				</tr>
				<tr class="row4">
					<td class="col0">
						<audio class="media" controls="controls">
							<source src="input/P4/phone-number-4.wav" type="audio/wav" />
							<a href="input/P4/phone-number-4.wav" class="media mediafile mf_wav" title="phone-number-4">phone-number-4</a>
						</audio>
					</td>
					<td class="col1"> Output of your program. </td>
				</tr>
				<tr class="row5">
					<td class="col0">
						<audio class="media" controls="controls">
							<source src="input/P4/phone-number-5.wav" type="audio/wav" />
							<a href="input/P4/phone-number-5.wav" class="media mediafile mf_wav" title="phone-number-5">phone-number-5</a>
						</audio>
					</td>
					<td class="col1"> Output of your program. </td>
				</tr>
			</table>
		</div>
		<pre class="code">Put your code here</pre>
	</body>
</html>