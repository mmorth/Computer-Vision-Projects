<!DOCTYPE html>
<html lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="generator" content="AsciiDoc 8.6.9">
      <title>HCI/CprE/ComS 575: Homework #2</title>
      <link rel="stylesheet" href="./riak.css" type="text/css">
   </head>
   
   <body class="article">
      <div id="header">
         <h1>HCI/CprE/ComS 575: Homework #3</h1>
         <!-- MAKE CHANGES HERE: Student information -->
         <span id="author">Your Name</span><br>
         <span id="email" class="monospaced">&lt;
         <a href="mailto:Your Email">Your Email</a>&gt;</span><br>
         <!-- END CHANGES -->
      </div>
	  
      <div id="content">
	  
	  <div id="preamble">
				<div class="sectionbody">
					<div class="paragraph">
						<p>
						There is a sample program on importing, modifying, and exporting video files under templates/examples.
						</p>
					</div>
					<div class="paragraph">
						<p>
						Additionally, the files provided as inputs are in Audio Video Interleave (*.avi) format, which is the simplest
						format to use with OpenCV. However, to get them to display on the HTML submission, you will have to save them as 
						 / convert them to either H.264 (*.mp4) or Theora (*.ogg).
						<br><br>	
						If you are having troubles with H.264, try downloading <a href="https://github.com/cisco/openh264/releases">this DLL</a> and placing it in the folder with the binary.
						<br>
						Alternatively, you can install <a href="https://ffmpeg.org/">FFMPEG</a> and use it to convert your .avi files to .mp4 using the command below.
						
						<div class="listingblock">
						<div class="title">FFMPEG Command</div>
						<div class="content">
							<pre><h4><tt>ffmpeg -i input.avi -c:a aac -b:a 128k -c:v libx264 -crf 23 output.mp4</tt></h4></pre>
						</div>
					</div>
						
						<br><br>
						<strong>Do not waste time on this.</strong>
						<br><br>
						If you are unable to get these formats working within a few minutes, you are free to pick a different format or to let OpenCV pick its default - .avi is common.
						</p>
					</div>
					<div class="listingblock">
						<div class="title">FOURCC codes</div>
						<div class="content">
							<!-- Generator: GNU source-highlight 3.1.8
								by Lorenzo Bettini
								http://www.lorenzobettini.it
								http://www.gnu.org/software/src-highlite -->
							<pre><h4><tt><span style="font-weight: bold"><span style="color: #000000">CV_FOURCC</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'H'</span><span style="color: #990000">,</span><span style="color: #FF0000">'2'</span><span style="color: #990000">,</span><span style="color: #FF0000">'6'</span><span style="color: #990000">,</span><span style="color: #FF0000">'4'</span><span style="color: #990000">);</span> <span style="font-style: italic"><span style="color: #9A1900">// For H.264</span></span>
<span style="font-weight: bold"><span style="color: #000000">CV_FOURCC</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'T'</span><span style="color: #990000">,</span><span style="color: #FF0000">'H'</span><span style="color: #990000">,</span><span style="color: #FF0000">'E'</span><span style="color: #990000">,</span><span style="color: #FF0000">'O'</span><span style="color: #990000">);</span> <span style="font-style: italic"><span style="color: #9A1900">// For Theora</span></span></tt></h4></pre>
						</div>
					</div>
				</div>
		</div>
	  
		 <!-- PART 1A -->
         <div class="sect1">
            <h2 id="_part_1a">Part 1a</h2>
            <div class="sectionbody">
               <div class="paragraph">
                  <p>Write a program that finds the <strong>blue</strong> outlines of the maze in the video,
						and changes their color to either <strong>brown</strong> (RGB 115:78:60) or <strong>green</strong> (RGB 0:255:0).
                  </p>
               </div>
               <table class="tableblock frame-all grid-all" style=" width:100%; ">
                  <col style="width:50%;">
                  <col style="width:50%;">
                  <tbody>
                     <tr>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock"><span class="video">
							  <video width="100%" controls>
								<source src="templates/input1a1.mp4" type="video/mp4">
								Your browser does not support HTML5 video.
							  </video>
							  </span>
                           </p>
                        </td>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock"><span class="image">
                              <video width="100%" controls>
								<source src="templates/input1a2.mp4" type="video/mp4">
								Your browser does not support HTML5 video.
							  </video>
							  </span>
                           </p>
                        </td>
                     </tr>
                     <tr>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock">
                              <span class="image">
                                <video width="100%" controls>
									<!-- MAKE CHANGES HERE: Part 1a video 1 -->
									<source src="output/part1a/output1a1.mp4" type="video/mp4">
									<!-- END CHANGES -->
									Your browser does not support HTML5 video.
								 </video>
                              </span>
                           </p>
                        </td>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock">
                              <span class="image">
                                <video width="100%" controls>
									<!-- MAKE CHANGES HERE: Part 1a video 2 -->
									<source src="output/part1a/output1a2.mp4" type="video/mp4">
									<!-- END CHANGES -->
									Your browser does not support HTML5 video.
								 </video>
                              </span>
                           </p>
                        </td>
                     </tr>
                  </tbody>
               </table>
			   <div class="listingblock">
                  <div class="title">Source</div>
                  <div class="content monospaced">
                     <!-- MAKE CHANGES HERE: Part 1a code -->
                     <pre>
#include <iostream>

#include <opencv2/opencv.hpp>
#include <opencv2/imgproc/imgproc.hpp>
#include <opencv2/highgui/highgui.hpp>
#include <opencv2/imgcodecs/imgcodecs.hpp>

using namespace std;
using namespace cv;

void processVideo(VideoCapture cap, string inputVideoName, string outputVideoName);

int main()
{
    char keyPress;
    cout << "p1a_opencv_code\n";

    // Read input videos
    VideoCapture cap1("C:\\Users\\mmort\\GIT\\CprE575\\Homework\\Homework3\\HW3_2018\\HW3\\input\\part1a\\input1a1.avi");
    processVideo(cap1, "input1a1.avi", "p1a_output1.avi");
    VideoCapture cap2("C:\\Users\\mmort\\GIT\\CprE575\\Homework\\Homework3\\HW3_2018\\HW3\\input\\part1a\\input1a2.avi");
    processVideo(cap2, "input1a2.avi", "p1a_output2.avi");

    while(1)
    {
        keyPress = waitKey();
        // Press q key to close window
        if (keyPress == 'q')
        {
            destroyAllWindows();
            break;
        }
    }
    return 0;
}

// Processes the video by converting it to grayscale and writing it to the output
// Source: https://www.learnopencv.com/read-write-and-display-a-video-using-opencv-cpp-python/
// The code from the source was modified to support the functionality of this assignment
void processVideo(VideoCapture cap, string inputVideoName, string outputVideoName) {
    // Check if camera opened successfully
    if(!cap.isOpened())
    {
      cout << "Error opening video stream" << endl;
      return;
    }

    // Default resolution of the frame is obtained.The default resolution is system dependent.
    int frame_width = cap.get(CAP_PROP_FRAME_WIDTH);
    int frame_height = cap.get(CAP_PROP_FRAME_HEIGHT);

    // Create a video writer and process the input video frame by frame
    printf("Processing video %s...\n", inputVideoName.c_str());
    VideoWriter video(outputVideoName,VideoWriter::fourcc('M','J','P','G'),30, Size(frame_width,frame_height));
    while(1)
    {
      // Ready in a frame at a time
      Mat frame;
      cap >> frame;

      // If the frame is empty, break immediately
      if (frame.empty())
        break;

      Mat blueMask;
      inRange(frame, Scalar(65, 0, 0), Scalar(195, 70, 70), blueMask);
      frame.setTo(Scalar(0, 255, 0), blueMask);

      // Write the frame into the output video file
      video.write(frame);

      // Press  ESC on keyboard to  exit
      char c = (char)waitKey(1);
      if( c == 27 )
        break;
    }

    // Clean up video capture and writer
    cap.release();
    video.release();

    // Closes all the windows
    destroyAllWindows();

    printf("Video processing complete for %s!\n", outputVideoName.c_str());
}

					 </pre>
                     <!-- END CHANGES -->
                  </div>
               </div>
			   
        <!-- PART 1B -->       
		<div class="sect1">
            <h2 id="_part_1b">Part 1b</h2>
            <div class="sectionbody">
               <div class="paragraph">
                  <p>Write a program that finds Pac-Man <strong>(yellow)<strong> and changes his color to <strong>green</strong> (RGB 0:255:0).
                  </p>
               </div>
               <table class="tableblock frame-all grid-all" style=" width:100%; ">
                  <col style="width:50%;">
                  <col style="width:50%;">
                  <tbody>
                     <tr>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock"><span class="video">
							  <video width="100%" controls>
								<source src="templates/input1b1.mp4" type="video/mp4">
								Your browser does not support HTML5 video.
							  </video>
							  </span>
                           </p>
                        </td>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock"><span class="image">
                              <video width="100%" controls>
								<source src="templates/input1b2.mp4" type="video/mp4">
								Your browser does not support HTML5 video.
							  </video>
							  </span>
                           </p>
                        </td>
                     </tr>
                     <tr>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock">
                              <span class="image">
                                <video width="100%" controls>
									<!-- MAKE CHANGES HERE: Part 1b video 1 -->
									<source src="output/part1b/output1b1.mp4" type="video/mp4">
									<!-- END CHANGES -->
									Your browser does not support HTML5 video.
								 </video>
                              </span>
                           </p>
                        </td>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock">
                              <span class="image">
                                <video width="100%" controls>
									<!-- MAKE CHANGES HERE: Part 1b video 2 -->
									<source src="output/part1b/output1b2.mp4" type="video/mp4">
									<!-- END CHANGES -->
									Your browser does not support HTML5 video.
								 </video>
                              </span>
                           </p>
                        </td>
                     </tr>
                  </tbody>
               </table>
			   <div class="listingblock">
                  <div class="title">Source</div>
                  <div class="content monospaced">
                     <!-- MAKE CHANGES HERE: Part 1b code -->
                     <pre>
                        #include <iostream>

                           #include <opencv2/opencv.hpp>
                           #include <opencv2/imgproc/imgproc.hpp>
                           #include <opencv2/highgui/highgui.hpp>
                           #include <opencv2/imgcodecs/imgcodecs.hpp>
                           
                           using namespace std;
                           using namespace cv;
                           
                           void colorPacmanGreen(Mat frame);
                           void processVideo(VideoCapture cap, string inputVideoName, string outputVideoName);
                           
                           int main()
                           {
                               char keyPress;
                               cout << "p1b_opencv_code\n";
                           
                               // Read input videos
                               VideoCapture cap1("C:\\Users\\mmort\\GIT\\CprE575\\Homework\\Homework3\\HW3_2018\\HW3\\input\\part1b\\input1b1.avi");
                               processVideo(cap1, "input1b1.avi", "p1b_output1.avi");
                               VideoCapture cap2("C:\\Users\\mmort\\GIT\\CprE575\\Homework\\Homework3\\HW3_2018\\HW3\\input\\part1b\\input1b2.avi");
                               processVideo(cap2, "input1b2.avi", "p1b_output2.avi");
                           
                               while(1)
                               {
                                   keyPress = waitKey();
                                   // Press q key to close window
                                   if (keyPress == 'q')
                                   {
                                       destroyAllWindows();
                                       break;
                                   }
                               }
                               return 0;
                           }
                           
                           // Processes the video by converting it to grayscale and writing it to the output
                           // Source: https://www.learnopencv.com/read-write-and-display-a-video-using-opencv-cpp-python/
                           // The code from the source was modified to support the functionality of this assignment
                           void processVideo(VideoCapture cap, string inputVideoName, string outputVideoName) {
                               // Check if camera opened successfully
                               if(!cap.isOpened())
                               {
                                 cout << "Error opening video stream" << endl;
                                 return;
                               }
                           
                               // Default resolution of the frame is obtained.The default resolution is system dependent.
                               int frame_width = cap.get(CAP_PROP_FRAME_WIDTH);
                               int frame_height = cap.get(CAP_PROP_FRAME_HEIGHT);
                           
                               // Create a video writer and process the input video frame by frame
                               printf("Processing video %s...\n", inputVideoName.c_str());
                               VideoWriter video(outputVideoName,VideoWriter::fourcc('M','J','P','G'),30, Size(frame_width,frame_height));
                               while(1)
                               {
                                 // Ready in a frame at a time
                                 Mat frame;
                                 cap >> frame;
                           
                                 // If the frame is empty, break immediately
                                 if (frame.empty())
                                   break;
                           
                                 // Apply green color to Pacman in the frame
                                 colorPacmanGreen(frame);
                           
                                 // Write the frame into the output video file
                                 video.write(frame);
                           
                                 // Press  ESC on keyboard to  exit
                                 char c = (char)waitKey(1);
                                 if( c == 27 )
                                   break;
                               }
                           
                               // Clean up video capture and writer
                               cap.release();
                               video.release();
                           
                               // Closes all the windows
                               destroyAllWindows();
                           
                               printf("Video processing complete for %s!\n", outputVideoName.c_str());
                           }
                           
                           // Colors Pacman green
                           void colorPacmanGreen(Mat frame) {
                               // Create the mask to isolate the Pacman colors
                               Mat yellowMask;
                               inRange(frame, Scalar(0, 200, 200), Scalar(210, 255, 255), yellowMask);
                           
                               // Convert result to CV_8U to support finding contours
                               Mat resb;
                               yellowMask.convertTo(resb, CV_8U, 255);
                           
                               // Find the contours that could correspond to Pacman
                               vector<vector<Point>> contours;
                               findContours(resb, contours, RETR_LIST, CHAIN_APPROX_SIMPLE);
                           
                               // Only draw the contours that are large enough (e.g. remove the noise of smaller objects with similar colors to Pacman)
                               for (int i = 0; i < contours.size(); i++) {
                                   if (contourArea(contours[i]) > 25) {
                                       drawContours(frame, contours, i, Scalar(0, 255, 0), -1);
                                   }
                               }
                           }
                           
					 </pre>
                     <!-- END CHANGES -->
                  </div>
               </div>
         
		 <!-- PART 2A -->
		 <div class="sect2">
            <h2 id="_part_2a">Part 2a</h2>
            <div class="sectionbody">
               <div class="paragraph">
                  <p>Write a program that counts the remaining Power-Pellets (large blinking circles) and print this number
				     as an overlay over the video in the <strong>upper-right</strong> corner.
                  </p>
               </div>
               <table class="tableblock frame-all grid-all" style=" width:100%; ">
                  <col style="width:50%;">
                  <col style="width:50%;">
                  <tbody>
                     <tr>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock"><span class="video">
							  <video width="100%" controls>
								<source src="templates/input2a1.mp4" type="video/mp4">
								Your browser does not support HTML5 video.
							  </video>
							  </span>
                           </p>
                        </td>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock"><span class="image">
                              <video width="100%" controls>
								<source src="templates/input2a2.mp4" type="video/mp4">
								Your browser does not support HTML5 video.
							  </video>
							  </span>
                           </p>
                        </td>
                     </tr>
                     <tr>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock">
                              <span class="image">
                                <video width="100%" controls>
									<!-- MAKE CHANGES HERE: Part 2a video 1 -->
									<source src="output/part2a/output2a1.mp4" type="video/mp4">
									<!-- END CHANGES -->
									Your browser does not support HTML5 video.
								 </video>
                              </span>
                           </p>
                        </td>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock">
                              <span class="image">
                                <video width="100%" controls>
									<!-- MAKE CHANGES HERE: Part 2a video 2 -->
									<source src="output/part2a/output2a2.mp4" type="video/mp4">
									<!-- END CHANGES -->
									Your browser does not support HTML5 video.
								 </video>
                              </span>
                           </p>
                        </td>
                     </tr>
                  </tbody>
               </table>
			   <div class="listingblock">
                  <div class="title">Source</div>
                  <div class="content monospaced">
                     <!-- MAKE CHANGES HERE: Part 2a code -->
                     <pre>
                        #include <iostream>

                           #include <opencv2/opencv.hpp>
                           #include <opencv2/imgproc/imgproc.hpp>
                           #include <opencv2/highgui/highgui.hpp>
                           #include <opencv2/imgcodecs/imgcodecs.hpp>
                           
                           using namespace std;
                           using namespace cv;
                           
                           int numPellets = 0;
                           void processPellet(Mat frame, Mat pellets);
                           void processVideo(VideoCapture cap, string inputVideoName, string outputVideoName);
                           
                           int main()
                           {
                               char keyPress;
                               cout << "p2a_opencv_code\n";
                           
                               // Read input videos
                               VideoCapture cap1("C:\\Users\\mmort\\GIT\\CprE575\\Homework\\Homework3\\HW3_2018\\HW3\\input\\part2a\\input2a1.avi");
                               processVideo(cap1, "input2a1.avi", "p2a_output1.avi");
                               VideoCapture cap2("C:\\Users\\mmort\\GIT\\CprE575\\Homework\\Homework3\\HW3_2018\\HW3\\input\\part2a\\input2a2.avi");
                               processVideo(cap2, "input2a2.avi", "p2a_output2.avi");
                           
                               while(1)
                               {
                                   keyPress = waitKey();
                                   // Press q key to close window
                                   if (keyPress == 'q')
                                   {
                                       destroyAllWindows();
                                       break;
                                   }
                               }
                               return 0;
                           }
                           
                           // Processes the video by converting it to grayscale and writing it to the output
                           // Source: https://www.learnopencv.com/read-write-and-display-a-video-using-opencv-cpp-python/
                           // The code from the source was modified to support the functionality of this assignment
                           void processVideo(VideoCapture cap, string inputVideoName, string outputVideoName) {
                               // Check if camera opened successfully
                               if(!cap.isOpened())
                               {
                                 cout << "Error opening video stream" << endl;
                                 return;
                               }
                           
                               // Default resolution of the frame is obtained.The default resolution is system dependent.
                               int frame_width = cap.get(CAP_PROP_FRAME_WIDTH);
                               int frame_height = cap.get(CAP_PROP_FRAME_HEIGHT);
                           
                               // Create a video writer and process the input video frame by frame
                               printf("Processing video %s...\n", inputVideoName.c_str());
                               VideoWriter video(outputVideoName,VideoWriter::fourcc('M','J','P','G'),30, Size(frame_width,frame_height));
                               while(1)
                               {
                                 // Ready in a frame at a time
                                 Mat frame;
                                 cap >> frame;
                           
                                 // If the frame is empty, break immediately
                                 if (frame.empty())
                                   break;
                           
                                 Mat pelletMask;
                                 inRange(frame, Scalar(165, 165, 200), Scalar(205, 205, 255), pelletMask);
                           
                                 processPellet(frame, pelletMask);
                                 imshow("frame", frame);
                           
                                 // Write the frame into the output video file
                                 video.write(frame);
                           
                                 // Press  ESC on keyboard to  exit
                                 char c = (char)waitKey(1);
                                 if( c == 27 )
                                   break;
                               }
                           
                               // Clean up video capture and writer
                               cap.release();
                               video.release();
                           
                               // Closes all the windows
                               destroyAllWindows();
                           
                               printf("Video processing complete for %s!\n", outputVideoName.c_str());
                           }
                           
                           // Counts the number of pellets in the map
                           void processPellet(Mat frame, Mat pellets) {
                               // Convert result to CV_8U to support finding contours
                               Mat resb;
                               pellets.convertTo(resb, CV_8U, 255);
                           
                               // Each contours corresponds to a pellet
                               vector<vector<Point>> contours;
                               findContours(resb, contours, RETR_LIST, CHAIN_APPROX_SIMPLE);
                           
                               int numSquares = 0;
                               for (int i = 0; i < contours.size(); i++) {
                                   if (contourArea(contours[i]) > 25) {
                                       numSquares++;
                                   }
                               }
                           
                               // Handle situation where the pellets are in the off blink state
                               if (numSquares == 0) {
                                   numSquares = numPellets;
                               } else {
                                   numPellets = numSquares;
                               }
                           
                               // Draw the number of pellets in the top right corner
                               string text = "# Pellets = " + std::to_string(numSquares);
                               putText(frame,  text, Point(150,10), FONT_HERSHEY_TRIPLEX, .25, Scalar(255, 255, 255), 1);
                           }
                           
					 </pre>
                     <!-- END CHANGES -->
                  </div>
               </div>
               
		<!-- PART 2B -->	   
		<div class="sect2">
            <h2 id="_part_2b">Part 2b</h2>
            <div class="sectionbody">
               <div class="paragraph">
                  <p>Write a program that counts the number of lives that Pac-Man has left, represented by the icons in the <strong>lower-left</strong> corner.
				     Print this count as a number in the same location; do not remove the original icons.
                  </p>
               </div>
               <table class="tableblock frame-all grid-all" style=" width:100%; ">
                  <col style="width:50%;">
                  <col style="width:50%;">
                  <tbody>
                     <tr>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock"><span class="video">
							  <video width="100%" controls>
								<source src="templates/input2b1.mp4" type="video/mp4">
								Your browser does not support HTML5 video.
							  </video>
							  </span>
                           </p>
                        </td>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock"><span class="image">
                              <video width="100%" controls>
								<source src="templates/input2b2.mp4" type="video/mp4">
								Your browser does not support HTML5 video.
							  </video>
							  </span>
                           </p>
                        </td>
                     </tr>
                     <tr>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock">
                              <span class="image">
                                <video width="100%" controls>
									<!-- MAKE CHANGES HERE: Part 2b video 1 -->
									<source src="output/part2b/output2b1.mp4" type="video/mp4">
									<!-- END CHANGES -->
									Your browser does not support HTML5 video.
								 </video>
                              </span>
                           </p>
                        </td>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock">
                              <span class="image">
                                <video width="100%" controls>
									<!-- MAKE CHANGES HERE: Part 2b video 2 -->
									<source src="output/part2b/output2b2.mp4" type="video/mp4">
									<!-- END CHANGES -->
									Your browser does not support HTML5 video.
								 </video>
                              </span>
                           </p>
                        </td>
                     </tr>
                  </tbody>
               </table>
			   <div class="listingblock">
                  <div class="title">Source</div>
                  <div class="content monospaced">
                     <!-- MAKE CHANGES HERE: Part 2b code -->
                     <pre>
                        #include <iostream>

                           #include <opencv2/opencv.hpp>
                           #include <opencv2/imgproc/imgproc.hpp>
                           #include <opencv2/highgui/highgui.hpp>
                           #include <opencv2/imgcodecs/imgcodecs.hpp>
                           
                           using namespace std;
                           using namespace cv;
                           
                           int numPellets = 0;
                           Mat createLiveMask(Mat frame);
                           void processFindLives(Mat frame, Mat mask, Mat temp);
                           void processVideo(VideoCapture cap, string inputVideoName, string outputVideoName);
                           
                           int main()
                           {
                               char keyPress;
                               cout << "p2b_opencv_code\n";
                           
                               // Read input videos
                               VideoCapture cap1("C:\\Users\\mmort\\GIT\\CprE575\\Homework\\Homework3\\HW3_2018\\HW3\\input\\part2b\\input2b1.avi");
                               processVideo(cap1, "input2b1.avi", "p2b_output1.avi");
                               VideoCapture cap2("C:\\Users\\mmort\\GIT\\CprE575\\Homework\\Homework3\\HW3_2018\\HW3\\input\\part2b\\input2b2.avi");
                               processVideo(cap2, "input2b2.avi", "p2b_output2.avi");
                           
                               while(1)
                               {
                                   keyPress = waitKey();
                                   // Press q key to close window
                                   if (keyPress == 'q')
                                   {
                                       destroyAllWindows();
                                       break;
                                   }
                               }
                               return 0;
                           }
                           
                           // Processes the video by converting it to grayscale and writing it to the output
                           // Source: https://www.learnopencv.com/read-write-and-display-a-video-using-opencv-cpp-python/
                           // The code from the source was modified to support the functionality of this assignment
                           void processVideo(VideoCapture cap, string inputVideoName, string outputVideoName) {
                               // Check if camera opened successfully
                               if(!cap.isOpened())
                               {
                                 cout << "Error opening video stream" << endl;
                                 return;
                               }
                           
                               // Default resolution of the frame is obtained.The default resolution is system dependent.
                               int frame_width = cap.get(CAP_PROP_FRAME_WIDTH);
                               int frame_height = cap.get(CAP_PROP_FRAME_HEIGHT);
                           
                               // Open PacMan life template
                               Mat liveTemp = imread("C:\\Users\\mmort\\GIT\\CprE575\\Homework\\Homework3\\HW3_2018\\HW3\\input\\pacman_templates\\pacmanLifeTemplate.png");
                           
                               // Create a video writer and process the input video frame by frame
                               printf("Processing video %s...\n", inputVideoName.c_str());
                               VideoWriter video(outputVideoName,VideoWriter::fourcc('M','J','P','G'),30, Size(frame_width,frame_height));
                               int frameNum = 0;
                               while(1)
                               {
                                 // Ready in a frame at a time
                                 Mat frame;
                                 cap >> frame;
                           
                                 // If the frame is empty, break immediately
                                 if (frame.empty())
                                   break;
                           
                                 Mat mask = createLiveMask(frame);
                                 processFindLives(frame, mask, liveTemp);
                           
                                 // Write the frame into the output video file
                                 video.write(frame);
                           
                                 // Press  ESC on keyboard to  exit
                                 char c = (char)waitKey(1);
                                 if( c == 27 )
                                   break;
                               }
                           
                               // Clean up video capture and writer
                               cap.release();
                               video.release();
                           
                               // Closes all the windows
                               destroyAllWindows();
                           
                               printf("Video processing complete for %s!\n", outputVideoName.c_str());
                           }
                           
                           Mat createLiveMask(Mat frame) {
                               Mat mask(Size(224, 288), 16);
                               mask = 0;
                               Rect roi(0, 270, 224, 18);
                               Mat temp = mask(roi);
                               temp = Scalar(255, 255, 255);
                               temp.copyTo(mask(roi));
                           
                               Mat result;
                               bitwise_and(frame, mask, result);
                           
                               return result;
                           }
                           
                           // Source: https://stackoverflow.com/questions/32041063/multiple-template-matching-only-detects-one-match/32095085#32095085
                           // This code is based on the solution at this link
                           void processFindLives(Mat frame, Mat mask, Mat temp) {
                               // Match the A template on the grid
                               Mat1f result;
                               matchTemplate(mask, temp, result, TM_CCOEFF_NORMED);
                           
                               // Replace all pixels with a value less than 0.95 with 0, so they are not processed as a match (confidence threshold)
                               double thresh = 0.95;
                               threshold(result, result, thresh, 1., THRESH_BINARY);
                           
                               // Convert result to CV_8U to support finding contours
                               Mat resb;
                               result.convertTo(resb, CV_8U, 255);
                           
                               // Find the contours (representing pacman life templates of the grayscale match result)
                               vector<vector<Point>> contours;
                               findContours(resb, contours, RETR_LIST, CHAIN_APPROX_SIMPLE);
                           
                               string text = "# Lives = " + std::to_string(contours.size());
                               putText(frame,  text, Point(10,270), FONT_HERSHEY_TRIPLEX, .25, Scalar(255, 255, 255), 1);
                           }
                           
					 </pre>
                     <!-- END CHANGES -->
                  </div>
               </div>
			   
			   <!-- PART 3A -->
         <div class="sect1">
            <h2 id="_part_3a">Part 3a</h2>
            <div class="sectionbody">
               <div class="paragraph">
                  <p>Write a program that locates Pac-Man in each frame, and overlay his trajectory (path followed) in <strong>yellow</strong> (his original color).
					 
                  </p>
               </div>
               <table class="tableblock frame-all grid-all" style=" width:100%; ">
                  <col style="width:50%;">
                  <col style="width:50%;">
                  <tbody>
                     <tr>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock"><span class="video">
							  <video width="100%" controls>
								<source src="templates/input3a1.mp4" type="video/mp4">
								Your browser does not support HTML5 video.
							  </video>
							  </span>
                           </p>
                        </td>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock"><span class="image">
                              <video width="100%" controls>
								<source src="templates/input3a2.mp4" type="video/mp4">
								Your browser does not support HTML5 video.
							  </video>
							  </span>
                           </p>
                        </td>
                     </tr>
                     <tr>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock">
                              <span class="image">
                                <video width="100%" controls>
									<!-- MAKE CHANGES HERE: Part 3a video 1 -->
									<source src="output/part3a/output3a1.mp4" type="video/mp4">
									<!-- END CHANGES -->
									Your browser does not support HTML5 video.
								 </video>
                              </span>
                           </p>
                        </td>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock">
                              <span class="image">
                                <video width="100%" controls>
									<!-- MAKE CHANGES HERE: Part 3a video 2 -->
									<source src="output/part3a/output3a2.mp4" type="video/mp4">
									<!-- END CHANGES -->
									Your browser does not support HTML5 video.
								 </video>
                              </span>
                           </p>
                        </td>
                     </tr>
                  </tbody>
               </table>
			   <div class="listingblock">
                  <div class="title">Source</div>
                  <div class="content monospaced">
                     <!-- MAKE CHANGES HERE: Part 3a code -->
                     <pre>
                        #include <iostream>

                           #include <opencv2/opencv.hpp>
                           #include <opencv2/imgproc/imgproc.hpp>
                           #include <opencv2/highgui/highgui.hpp>
                           #include <opencv2/imgcodecs/imgcodecs.hpp>
                           
                           using namespace std;
                           using namespace cv;
                           
                           bool firstPoint = true;
                           Point lastPoint;
                           void markPacmanPath(Mat frame, Mat mask, Mat path);
                           Mat createGridMask(Mat frame);
                           void processVideo(VideoCapture cap, string inputVideoName, string outputVideoName);
                           
                           int main()
                           {
                               char keyPress;
                               cout << "p3a_opencv_code\n";
                           
                               // Read input videos
                               VideoCapture cap1("C:\\Users\\mmort\\GIT\\CprE575\\Homework\\Homework3\\HW3_2018\\HW3\\input\\part3a\\input3a1.avi");
                               processVideo(cap1, "input3a1.avi", "p3a_output1.avi");
                               lastPoint = Point(1, 1);
                               firstPoint = true;
                               VideoCapture cap2("C:\\Users\\mmort\\GIT\\CprE575\\Homework\\Homework3\\HW3_2018\\HW3\\input\\part3a\\input3a2.avi");
                               processVideo(cap2, "input3a2.avi", "p3a_output2.avi");
                           
                               while(1)
                               {
                                   keyPress = waitKey();
                                   // Press q key to close window
                                   if (keyPress == 'q')
                                   {
                                       destroyAllWindows();
                                       break;
                                   }
                               }
                               return 0;
                           }
                           
                           // Processes the video by converting it to grayscale and writing it to the output
                           // Source: https://www.learnopencv.com/read-write-and-display-a-video-using-opencv-cpp-python/
                           // The code from the source was modified to support the functionality of this assignment
                           void processVideo(VideoCapture cap, string inputVideoName, string outputVideoName) {
                               // Check if camera opened successfully
                               if(!cap.isOpened())
                               {
                                 cout << "Error opening video stream" << endl;
                                 return;
                               }
                           
                               // Default resolution of the frame is obtained.The default resolution is system dependent.
                               int frame_width = cap.get(CAP_PROP_FRAME_WIDTH);
                               int frame_height = cap.get(CAP_PROP_FRAME_HEIGHT);
                           
                               // Create a Mat that will store Pacman's path
                               Mat path(Size(frame_width, frame_height), 16);
                               path = Scalar(0,0,0);
                           
                               // Create a video writer and process the input video frame by frame
                               printf("Processing video %s...\n", inputVideoName.c_str());
                               VideoWriter video(outputVideoName,VideoWriter::fourcc('M','J','P','G'),30, Size(frame_width,frame_height));
                               while(1)
                               {
                                 // Ready in a frame at a time
                                 Mat frame;
                                 cap >> frame;
                           
                                 // If the frame is empty, break immediately
                                 if (frame.empty())
                                   break;
                           
                                 // Apply green color to Pacman in the frame
                                 Mat mask = createGridMask(frame);
                                 markPacmanPath(frame, mask, path);
                           
                                 // Write the frame into the output video file
                                 video.write(frame);
                           
                                 // Press  ESC on keyboard to  exit
                                 char c = (char)waitKey(1);
                                 if( c == 27 )
                                   break;
                               }
                           
                               imwrite("path.png", path);
                           
                               // Clean up video capture and writer
                               cap.release();
                               video.release();
                           
                               // Closes all the windows
                               destroyAllWindows();
                           
                               printf("Video processing complete for %s!\n", outputVideoName.c_str());
                           }
                           
                           // Create a mask for the board to prevent matching of the Pacman representing the player's lives
                           Mat createGridMask(Mat frame) {
                               Mat mask(Size(224, 288), 16);
                               mask = 0;
                               Rect roi(0, 0, 224, 270);
                               Mat temp = mask(roi);
                               temp = Scalar(255, 255, 255);
                               temp.copyTo(mask(roi));
                           
                               Mat result;
                               bitwise_and(frame, mask, result);
                           
                               return result;
                           }
                           
                           // Colors Pacman green
                           void markPacmanPath(Mat frame, Mat mask, Mat path) {
                               // Create the mask to isolate the Pacman colors
                               Mat yellowMask;
                               inRange(mask, Scalar(0, 200, 200), Scalar(210, 255, 255), yellowMask);
                           
                               // Convert result to CV_8U to support finding contours
                               Mat resb;
                               yellowMask.convertTo(resb, CV_8U, 255);
                           
                               // Find the contours that could correspond to Pacman
                               vector<vector<Point>> contours;
                               findContours(resb, contours, RETR_LIST, CHAIN_APPROX_SIMPLE);
                           
                               // Only draw the contours that are large enough (e.g. remove the noise of smaller objects with similar colors to Pacman)
                               for (int i = 0; i < contours.size(); i++) {
                                   if (contourArea(contours[i]) > 100) {
                                       // Find Pacman's center position
                                       Rect br = boundingRect(contours[i]);
                                       Vec3b color;
                                       color.val[0] = 255;
                                       color.val[1] = 255;
                                       color.val[2] = 255;
                                       Point curPoint = Point(br.x+br.width/2, br.y+br.height/2);
                                       if (!firstPoint && abs(curPoint.x-lastPoint.x) < 100) {
                                           // Add the line from the last point to the current point to the path
                                           std::vector<cv::Point> contour;
                                           contour.push_back(lastPoint);
                                           contour.push_back(curPoint);
                                           std::vector<std::vector<cv::Point> > contourVec;
                                           contourVec.push_back(contour);
                           
                                           cv::drawContours(path,contourVec,0,color);
                                           lastPoint = curPoint;
                                       } else {
                                           // Add the first point
                                           lastPoint = curPoint;
                                           firstPoint = false;
                                       }
                                   }
                               }
                           
                               // Add the path to the frame
                               frame = frame + path;
                           }
                           
					 </pre>
                     <!-- END CHANGES -->
                  </div>
               </div>
			   
        <!-- PART 3B -->       
		<div class="sect1">
            <h2 id="_part_3b">Part 3b</h2>
            <div class="sectionbody">
               <div class="paragraph">
                  <p>Repeat 3a, but this time locate and track all 4 of the ghosts. Color their paths with their original colors 
				  (<strong>Red, Pink, Light-Blue, and Orange</strong>).
				  For this part, you may assume that all 4 ghosts are visible at all times, and will <strong>not</strong> change color.
                  </p>
               </div>
               <table class="tableblock frame-all grid-all" style=" width:100%; ">
                  <col style="width:50%;">
                  <col style="width:50%;">
                  <tbody>
                     <tr>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock"><span class="video">
							  <video width="100%" controls>
								<source src="templates/input3b1.mp4" type="video/mp4">
								Your browser does not support HTML5 video.
							  </video>
							  </span>
                           </p>
                        </td>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock"><span class="image">
                              <video width="100%" controls>
								<source src="templates/input3b2.mp4" type="video/mp4">
								Your browser does not support HTML5 video.
							  </video>
							  </span>
                           </p>
                        </td>
                     </tr>
                     <tr>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock">
                              <span class="image">
                                <video width="100%" controls>
									<!-- MAKE CHANGES HERE: Part 3b video 1 -->
									<source src="output/part3b/output3b1.mp4" type="video/mp4">
									<!-- END CHANGES -->
									Your browser does not support HTML5 video.
								 </video>
                              </span>
                           </p>
                        </td>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock">
                              <span class="image">
                                <video width="100%" controls>
									<!-- MAKE CHANGES HERE: Part 3b video 2 -->
									<source src="output/part3b/output3b2.mp4" type="video/mp4">
									<!-- END CHANGES -->
									Your browser does not support HTML5 video.
								 </video>
                              </span>
                           </p>
                        </td>
                     </tr>
                  </tbody>
               </table>
			   <div class="listingblock">
                  <div class="title">Source</div>
                  <div class="content monospaced">
                     <!-- MAKE CHANGES HERE: Part 3b code -->
                     <pre>
                        #include <iostream>

                           #include <opencv2/opencv.hpp>
                           #include <opencv2/imgproc/imgproc.hpp>
                           #include <opencv2/highgui/highgui.hpp>
                           #include <opencv2/imgcodecs/imgcodecs.hpp>
                           
                           using namespace std;
                           using namespace cv;
                           
                           struct ghost {
                               Scalar lowRangeColor;
                               Scalar highRangeColor;
                               int minArea;
                               Vec3b pathColor;
                               bool firstPoint = true;
                               Point lastPoint;
                           };
                           
                           void markPacmanPath(Mat frame, Mat mask, Mat path, ghost &curGhost);
                           Mat createGridMask(Mat frame);
                           void processVideo(VideoCapture cap, string inputVideoName, string outputVideoName);
                           
                           int main()
                           {
                               char keyPress;
                               cout << "p3b_opencv_code\n";
                           
                               // Read input videos
                               VideoCapture cap1("C:\\Users\\mmort\\GIT\\CprE575\\Homework\\Homework3\\HW3_2018\\HW3\\input\\part3b\\input3b1.avi");
                               processVideo(cap1, "input3b1.avi", "p3b_output1.avi");
                               VideoCapture cap2("C:\\Users\\mmort\\GIT\\CprE575\\Homework\\Homework3\\HW3_2018\\HW3\\input\\part3b\\input3b2.avi");
                               processVideo(cap2, "input3b2.avi", "p3b_output2.avi");
                           
                               while(1)
                               {
                                   keyPress = waitKey();
                                   // Press q key to close window
                                   if (keyPress == 'q')
                                   {
                                       destroyAllWindows();
                                       break;
                                   }
                               }
                               return 0;
                           }
                           
                           // Processes the video by converting it to grayscale and writing it to the output
                           // Source: https://www.learnopencv.com/read-write-and-display-a-video-using-opencv-cpp-python/
                           // The code from the source was modified to support the functionality of this assignment
                           void processVideo(VideoCapture cap, string inputVideoName, string outputVideoName) {
                               // Check if camera opened successfully
                               if(!cap.isOpened())
                               {
                                 cout << "Error opening video stream" << endl;
                                 return;
                               }
                           
                               // Default resolution of the frame is obtained.The default resolution is system dependent.
                               int frame_width = cap.get(CAP_PROP_FRAME_WIDTH);
                               int frame_height = cap.get(CAP_PROP_FRAME_HEIGHT);
                           
                               // Create a Mat that will store Pacman's path
                               Mat path(Size(frame_width, frame_height), 16);
                               path = Scalar(0,0,0);
                           
                               ghost pacmanGhost;
                               pacmanGhost.lowRangeColor = Scalar(0, 200, 200);
                               pacmanGhost.highRangeColor = Scalar(210, 255, 255);
                               pacmanGhost.minArea = 50;
                               Vec3b pacmanColor;
                               pacmanColor.val[0] = 255;
                               pacmanColor.val[1] = 255;
                               pacmanColor.val[2] = 255;
                               pacmanGhost.pathColor = pacmanColor;
                           
                               ghost redGhost;
                               redGhost.lowRangeColor = Scalar(0, 0, 150);
                               redGhost.highRangeColor = Scalar(50, 50, 255);
                               redGhost.minArea = 50;
                               Vec3b redColor;
                               redColor.val[0] = 25;
                               redColor.val[1] = 25;
                               redColor.val[2] = 205;
                               redGhost.pathColor = redColor;
                           
                               ghost pinkGhost;
                               pinkGhost.lowRangeColor = Scalar(200, 170, 220);
                               pinkGhost.highRangeColor = Scalar(255, 200, 255);
                               pinkGhost.minArea = 50;
                               Vec3b pinkColor;
                               pinkColor.val[0] = 160;
                               pinkColor.val[1] = 160;
                               pinkColor.val[2] = 245;
                               pinkGhost.pathColor = pinkColor;
                           
                               ghost lightBlueGhost;
                               lightBlueGhost.lowRangeColor = Scalar(210, 170, 0);
                               lightBlueGhost.highRangeColor = Scalar(255, 255, 90);
                               lightBlueGhost.minArea = 50;
                               Vec3b lightBlueColor;
                               lightBlueColor.val[0] = 235;
                               lightBlueColor.val[1] = 220;
                               lightBlueColor.val[2] = 45;
                               lightBlueGhost.pathColor = lightBlueColor;
                           
                               ghost orangeGhost;
                               orangeGhost.lowRangeColor = Scalar(60, 160, 210);
                               orangeGhost.highRangeColor = Scalar(120, 200, 255);
                               orangeGhost.minArea = 50;
                               Vec3b orangeColor;
                               orangeColor.val[0] = 90;
                               orangeColor.val[1] = 180;
                               orangeColor.val[2] = 235;
                               orangeGhost.pathColor = orangeColor;
                           
                               ghost ghosts[] = {redGhost, pinkGhost, lightBlueGhost, orangeGhost};
                           
                               // Create a video writer and process the input video frame by frame
                               printf("Processing video %s...\n", inputVideoName.c_str());
                               VideoWriter video(outputVideoName,VideoWriter::fourcc('M','J','P','G'),30, Size(frame_width,frame_height));
                               while(1)
                               {
                                 // Ready in a frame at a time
                                 Mat frame;
                                 cap >> frame;
                           
                                 // If the frame is empty, break immediately
                                 if (frame.empty())
                                   break;
                           
                                 // Apply green color to Pacman in the frame
                                 Mat mask = createGridMask(frame);
                           
                                 for (int i = 0; i < 4; i++) {
                                     markPacmanPath(frame, mask, path, ghosts[i]);
                                 }
                           
                                 // Write the frame into the output video file
                                 video.write(frame);
                           
                                 // Press  ESC on keyboard to  exit
                                 char c = (char)waitKey(1);
                                 if( c == 27 )
                                   break;
                               }
                           
                               imwrite("path.png", path);
                           
                               // Clean up video capture and writer
                               cap.release();
                               video.release();
                           
                               // Closes all the windows
                               destroyAllWindows();
                           
                               printf("Video processing complete for %s!\n", outputVideoName.c_str());
                           }
                           
                           // Create a mask for the board to prevent matching of the Pacman representing the player's lives
                           Mat createGridMask(Mat frame) {
                               Mat mask(Size(224, 288), 16);
                               mask = 0;
                               Rect roi(0, 0, 224, 270);
                               Mat temp = mask(roi);
                               temp = Scalar(255, 255, 255);
                               temp.copyTo(mask(roi));
                           
                               Mat result;
                               bitwise_and(frame, mask, result);
                           
                               return result;
                           }
                           
                           // Colors Pacman green
                           void markPacmanPath(Mat frame, Mat mask, Mat path, ghost &curGhost) {
                               // Create the mask to isolate the Pacman colors
                               Mat ghostMask;
                               inRange(mask, curGhost.lowRangeColor, curGhost.highRangeColor, ghostMask);
                           
                               // Convert result to CV_8U to support finding contours
                               Mat resb;
                               ghostMask.convertTo(resb, CV_8U, 255);
                           
                               // Find the contours that could correspond to Pacman
                               vector<vector<Point>> contours;
                               findContours(resb, contours, RETR_LIST, CHAIN_APPROX_SIMPLE);
                           
                               // Only draw the contours that are large enough (e.g. remove the noise of smaller objects with similar colors to Pacman)
                               for (int i = 0; i < contours.size(); i++) {
                                   if (contourArea(contours[i]) > 75) {
                                       // Find Pacman's center position
                                       Rect br = boundingRect(contours[i]);
                                       Point curPoint = Point(br.x+br.width/2, br.y+br.height/2);
                                       // Protect against tracking ghosts going through the warp pipes
                                       if (!curGhost.firstPoint && abs(curPoint.x-curGhost.lastPoint.x) < 100) {
                                           // Add the line from the last point to the current point to the path
                                           std::vector<cv::Point> contour;
                                           contour.push_back(curGhost.lastPoint);
                                           contour.push_back(curPoint);
                                           std::vector<std::vector<cv::Point> > contourVec;
                                           contourVec.push_back(contour);
                           
                                           cv::drawContours(path,contourVec,0,curGhost.pathColor);
                                           curGhost.lastPoint = curPoint;
                                       } else {
                                           // Add the first point
                                           curGhost.lastPoint = curPoint;
                                           curGhost.firstPoint = false;
                                       }
                                   }
                               }
                           
                               // Add the path to the frame
                               frame = frame + path;
                           }                           
					 </pre>
                     <!-- END CHANGES -->
                  </div>
               </div>
         
		 <!-- PART 4 -->
		 <div class="sect2">
            <h2 id="_part_4">Part 4</h2>
            <div class="sectionbody">
               <div class="paragraph">
                  <p>Write a program that keeps track of the score displayed in the <strong>upper-left</strong> corner,
					 and print it as an overlaid number in the <strong>upper-right</strong> corner. Use a different font to display
					 the score.
					 <br>
					 <br>
					 There are crops of all 10 digits (0-9) available in the "digits" folder under input/part4.
                  </p>
               </div>
               <table class="tableblock frame-all grid-all" style=" width:100%; ">
                  <col style="width:50%;">
                  <col style="width:50%;">
                  <tbody>
                     <tr>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock"><span class="video">
							  <video width="100%" controls>
								<source src="templates/input4_1.mp4" type="video/mp4">
								Your browser does not support HTML5 video.
							  </video>
							  </span>
                           </p>
                        </td>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock"><span class="image">
                              <video width="100%" controls>
								<source src="templates/input4_2.mp4" type="video/mp4">
								Your browser does not support HTML5 video.
							  </video>
							  </span>
                           </p>
                        </td>
                     </tr>
                     <tr>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock">
                              <span class="image">
                                <video width="100%" controls>
									<!-- MAKE CHANGES HERE: Part 4 video 1 -->
									<source src="output/part4/output4_1.mp4" type="video/mp4">
									<!-- END CHANGES -->
									Your browser does not support HTML5 video.
								 </video>
                              </span>
                           </p>
                        </td>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock">
                              <span class="image">
                                <video width="100%" controls>
									<!-- MAKE CHANGES HERE: Part 4 video 2 -->
									<source src="output/part4/output4_2.mp4" type="video/mp4">
									<!-- END CHANGES -->
									Your browser does not support HTML5 video.
								 </video>
                              </span>
                           </p>
                        </td>
                     </tr>
                  </tbody>
               </table>
			   <div class="listingblock">
                  <div class="title">Source</div>
                  <div class="content monospaced">
                     <!-- MAKE CHANGES HERE: Part 4 code -->
                     <pre>
// Insert your code here
					 </pre>
                     <!-- END CHANGES -->
                  </div>
               </div>
			   
        <h1 id="_ec">Extra Credit</h1>		
		
		<!-- PART 5A -->	   
		<div class="sect2">
            <h2 id="_part_5a">Part 5a</h2>
            <div class="sectionbody">
               <div class="paragraph">
                  <p>Write a program that detects when Pac-Man eats one of the Power-Pellets (large blinking circles).
					 Draw a <strong>square</strong> around that location to indicate that your program detected the event.
					 The square should disappear after 1 second (30 frames).
                  </p>
               </div>
               <table class="tableblock frame-all grid-all" style=" width:100%; ">
                  <col style="width:50%;">
                  <col style="width:50%;">
                  <tbody>
                     <tr>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock"><span class="video">
							  <video width="100%" controls>
								<source src="templates/input5a1.mp4" type="video/mp4">
								Your browser does not support HTML5 video.
							  </video>
							  </span>
                           </p>
                        </td>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock"><span class="image">
                              <video width="100%" controls>
								<source src="templates/input5a2.mp4" type="video/mp4">
								Your browser does not support HTML5 video.
							  </video>
							  </span>
                           </p>
                        </td>
                     </tr>
                     <tr>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock">
                              <span class="image">
                                <video width="100%" controls>
									<!-- MAKE CHANGES HERE: Part 5a video 1 -->
									<source src="output/part5a/output5a1.mp4" type="video/mp4">
									<!-- END CHANGES -->
									Your browser does not support HTML5 video.
								 </video>
                              </span>
                           </p>
                        </td>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock">
                              <span class="image">
                                <video width="100%" controls>
									<!-- MAKE CHANGES HERE: Part 5a video 2 -->
									<source src="output/part5a/output5a2.mp4" type="video/mp4">
									<!-- END CHANGES -->
									Your browser does not support HTML5 video.
								 </video>
                              </span>
                           </p>
                        </td>
                     </tr>
                  </tbody>
               </table>
			   <div class="listingblock">
                  <div class="title">Source</div>
                  <div class="content monospaced">
                     <!-- MAKE CHANGES HERE: Part 5a code -->
                     <pre>
// Insert your code here
					 </pre>
                     <!-- END CHANGES -->
                  </div>
               </div>
			   
		<!-- PART 5B -->	   
		<div class="sect2">
            <h2 id="_part_5b">Part 5b</h2>
            <div class="sectionbody">
               <div class="paragraph">
                  <p>Repeat 5a, but instead detect when Pac-Man successfully eats one of the ghosts 
					 (that is, the ghost is <strong>Dark-Blue</strong> or <strong>White</strong> and you get a 
					 bonus for eating it, instead of losing a life or losing the game).
					 <br>
					 Draw a <strong>square</strong> around that location to indicate that your program detected the event.
					 The square should disappear after 1 second (30 frames).
                  </p>
               </div>
               <table class="tableblock frame-all grid-all" style=" width:100%; ">
                  <col style="width:50%;">
                  <col style="width:50%;">
                  <tbody>
                     <tr>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock"><span class="video">
							  <video width="100%" controls>
								<source src="templates/input5b1.mp4" type="video/mp4">
								Your browser does not support HTML5 video.
							  </video>
							  </span>
                           </p>
                        </td>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock"><span class="image">
                              <video width="100%" controls>
								<source src="templates/input5b2.mp4" type="video/mp4">
								Your browser does not support HTML5 video.
							  </video>
							  </span>
                           </p>
                        </td>
                     </tr>
                     <tr>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock">
                              <span class="image">
                                <video width="100%" controls>
									<!-- MAKE CHANGES HERE: Part 5b video 1 -->
									<source src="output/part5b/output5b1.mp4" type="video/mp4">
									<!-- END CHANGES -->
									Your browser does not support HTML5 video.
								 </video>
                              </span>
                           </p>
                        </td>
                        <td class="tableblock halign-left valign-top" >
                           <p class="tableblock">
                              <span class="image">
                                <video width="100%" controls>
									<!-- MAKE CHANGES HERE: Part 5b video 2 -->
									<source src="output/part5b/output5b2.mp4" type="video/mp4">
									<!-- END CHANGES -->
									Your browser does not support HTML5 video.
								 </video>
                              </span>
                           </p>
                        </td>
                     </tr>
                  </tbody>
               </table>
			   <div class="listingblock">
                  <div class="title">Source</div>
                  <div class="content monospaced">
                     <!-- MAKE CHANGES HERE: Part 5b code -->
                     <pre>
// Insert your code here
					 </pre>
                     <!-- END CHANGES -->
                  </div>
               </div>
         
         
      <div id="footer">
         <div id="footer-text">
            Last updated 2018-02-08
         </div>
      </div>
   </body>
</html>
